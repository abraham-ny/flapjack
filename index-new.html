<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>POR7FOLIO :: Abraham .M</title>
	<link rel="stylesheet" href="https://unpkg.com/7.css">
	<style>
		/* page background / full-bleed */
		html,body { height:100%; margin:0; }
		body {
			background: center / cover no-repeat url('3080240.jpg');
			font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
			-webkit-font-smoothing:antialiased;
			-moz-osx-font-smoothing:grayscale;
		}

		/* desktop area */
		.desktop {
			min-height:100vh;
			/* allow absolute-positioned window to be placed inside; keep padding for edges */
			position:relative;
			padding:28px;
			box-sizing:border-box;
		}

		/* main window */
		.app-window {
			display:flex;
			flex-direction:row;
			width: min(1100px, 96%);
			max-height: calc(100vh - 56px);
			border-radius:8px;
			overflow:hidden;
			box-shadow: 0 18px 48px rgba(0,0,0,.45);
			/* make window movable: absolute inside .desktop and initially centered */
			position:absolute;
			left:50%;
			top:50%;
			transform: translate(-50%,-50%);
			touch-action: none; /* help pointer handling */
			z-index: 20; /* keep above background on small screens */
		}

		/* dragging UI cues */
		.title-bar { cursor: grab; user-select:none; }
		.app-window.dragging { cursor: grabbing; }
		.app-window.dragging .title-bar { cursor:grabbing; }

		/* left system panel (avatar + nav) */
		.system-panel {
			width:320px;
			min-width:240px;
			background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
			border-right:1px solid rgba(0,0,0,.06);
			padding:18px;
			box-sizing:border-box;
			display:flex;
			flex-direction:column;
			gap:12px;
			backdrop-filter: blur(6px);
		}
		.avatar {
			width:84px;
			height:84px;
			border-radius:10px;
			background:linear-gradient(135deg,#fff,#eee);
			box-shadow: inset 0 -4px 12px rgba(0,0,0,.08);
			display:flex;
			justify-content:center;
			align-items:center;
			font-weight:700;
			color:#333;
			font-size:20px;
			margin-bottom:6px;
		}
		.user-meta { color:rgba(255,255,255,.95); }
		.user-meta h3 { margin:0 0 4px 0; font-size:1.05rem; letter-spacing:.6px; }
		.user-meta p { margin:0; font-size:.86rem; opacity:.85; }

		.nav {
			margin-top:8px;
			display:flex;
			flex-direction:column;
			gap:6px;
		}
		.nav button {
			text-align:left;
			padding:10px 12px;
			border-radius:6px;
			background:transparent;
			color:rgba(255,255,255,.95);
			border:1px solid transparent;
			cursor:pointer;
			font-size:0.95rem;
		}
		.nav button:hover { background: rgba(255,255,255,.04); }
		.nav button.active { background: linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border-color: rgba(255,255,255,.06); }

		.footer-mini { margin-top:auto; font-size:0.78rem; color:rgba(255,255,255,.7); }

		/* content area */
		.content-panel {
			flex:1;
			padding:16px 20px;
			box-sizing:border-box;
			background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
			backdrop-filter: blur(4px);
			color: #fff;
			overflow:auto;
		}

		.title-bar {
			display:flex;
			align-items:center;
			justify-content:space-between;
			gap:12px;
			padding:8px 12px;
			background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.08));
			color:#fff;
			font-weight:600;
			font-size:0.95rem;
			border-bottom:1px solid rgba(255,255,255,.03);
		}
		.title-left { display:flex; align-items:center; gap:10px; }
		.title-controls button { background:transparent; border:0; width:34px; height:28px; border-radius:4px; cursor:pointer; }
		.title-controls button[disabled] { opacity:.45; cursor:default; }

		.section { padding:12px 6px; }
		.section h2 { margin:0 0 8px 0; font-weight:700; color:#fff; }
		.section p { margin:0 0 12px 0; color:rgba(255,255,255,.9); line-height:1.45; }

		/* projects grid */
		.projects { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:12px; }
		.project {
			background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
			border:1px solid rgba(255,255,255,.04);
			padding:10px;
			border-radius:8px;
		}
		.project h3 { margin:0 0 6px 0; font-size:1rem; }
		.project p { font-size:0.88rem; color:rgba(255,255,255,.85); margin:0; }

		/* responsive */
		@media (max-width:820px) {
			/* make the custom window behave like a full-screen app on small devices */
			.app-window {
				position:fixed;
				left:0;
				top:0;
				transform:none;
				width:100%;
				height:100vh;
				max-height:none;
				border-radius:0;
				display:flex;
				flex-direction:column;
				overflow:hidden;
			}

			/* system panel becomes a compact top bar; allow horizontal nav scrolling */
			.system-panel {
				width:100%;
				display:flex;
				flex-direction:row;
				gap:12px;
				padding:10px 12px;
				align-items:center;
				overflow-x:auto;
				box-sizing:border-box;
			}
			.nav { flex-direction:row; gap:8px; }
			.nav button { white-space:nowrap; flex:0 0 auto; }
			.avatar { width:56px; height:56px; margin-bottom:0; flex:0 0 auto; }

			/* content should fill remaining space and be scrollable */
			.content-panel { padding:12px; flex:1 1 auto; overflow:auto; -webkit-overflow-scrolling:touch; }

			/* soften dragging cursor on small screens (touch interaction) */
			.title-bar { cursor:default; }
		}

		/* subtle non-selectable chrome feel */
		.app-window, .title-bar, .system-panel { -webkit-user-select:none; user-select:none; }
	</style>
</head>
<body>

	<div class="desktop">
		<!-- main app window using 7.css window classes for visual compatibility -->
		<div class="window glass active app-window" role="application" aria-label="WWAIN/T Portfolio - Abraham M">
			<!-- left: system panel -->
			<div class="system-panel">
				<div style="display:flex;flex-direction:column;">
					<div class="avatar">AM</div>
					<div class="user-meta">
						<h3>Abraham M.</h3>
						<p>Software engineer · Open Sourcerer · Who?</p>
					</div>
				</div>

				<nav class="nav" aria-label="Primary">
					<button class="active" data-section="about">About</button>
					<button data-section="projects">Projects</button>
					<button data-section="resume">Resume</button>
					<button data-section="contact">Contact</button>
				</nav>

				<div class="footer-mini">WWAIN/T • Development preview v0.0.1-rc3</div>
			</div>

			<!-- right: content panel with title bar -->
			<div class="content-panel">
				<div class="title-bar" role="toolbar">
					<div class="title-left">
						<span style="font-weight:700">WWAIN/T System:: Portfolio</span>
						<span style="opacity:.8; font-size:.86rem; margin-left:8px;"> snapshot</span>
					</div>
					<div class="title-controls">
						<button aria-label="Help" id="btn-help" aria-describedby="help-balloon">?</button>
						<button aria-label="Legacy" id="btn-legacy">⤺</button>
					</div>
				</div>

				<!-- help balloon -->
				<div id="help-balloon" role="tooltip" hidden style="margin:10px 0 6px 0; padding:8px 10px; background:rgba(0,0,0,.4); display:inline-block; border-radius:6px;">
					<span style="color:#fff; font-size:.9rem;">This interface is a development preview. Use "Legacy" to visit the previous site.</span>
				</div>

				<!-- dynamic content sections -->
				<section id="about" class="section">
					<h2>About</h2>
					<p>I'm Abraham, a software engineer focused on creating reliable, maintainable systems. I care about performance, accessibility, and pragmatic engineering. Below are a few highlights and recent projects, click Projects for details.</p>
					<ul style="margin-top:12px;">
						<li>Languages and Frameworks: Java, C#, Web 2/3, Go, PHP, JS, SCSS, Python</li>
						<li>Systems: tooling, build optimization, small-scale infra, ci/cd.</li>
						<li>Design: pixel-aware interfaces, performance systems, lightweight threading to reduce CPU load.</li>
					</ul>
				</section>

				<section id="projects" class="section" hidden>
					<h2>Projects</h2>
					<div class="projects" aria-live="polite">
						<div class="project">
							<h3>Portfolio Vintage UI</h3>
							<p>Experiment recreating desktop chrome and UX with modern web standards. Draggable windows, responsive layout, and accessible controls.</p>
						</div>
						<div class="project">
							<h3>Performance Toolkit</h3>
							<p>Collection of build-time and runtime optimizations tailored for SPAs and content-heavy sites.</p>
						</div>
						<div class="project">
							<h3>Legacy Site</h3>
							<p>Previous portfolio & archives — preserved for reference and compatibility testing.</p>
						</div>
					</div>
				</section>

				<section id="resume" class="section" hidden>
					<h2>Resume</h2>
					<p>Summary: 6+ years building production web applications, tooling, and developer-focused features. Interested in systems engineering and developer UX.</p>
					<p style="margin-top:8px;"><strong>Key Skills:</strong> JavaScript, TypeScript, React, accessibility, build systems, performance tuning, UI design.</p>
				</section>

				<section id="contact" class="section" hidden>
					<h2>Contact</h2>
					<p>If you'd like to get in touch, please use the legacy site contact form or email <a href="mailto:abraham@example.com" style="color:#9fe3ff">abraham@example.com</a>.</p>
					<p style="margin-top:8px;"><button onclick="location.href='index-old.html'">Open legacy contact</button></p>
				</section>
			</div>
		</div>
	</div>

	<script>
		// small UI glue: nav switching, help balloon, legacy link
		(function () {
			const navButtons = document.querySelectorAll('.nav button');
			const sections = Array.from(document.querySelectorAll('.content-panel section'));
			function showSection(id) {
				sections.forEach(s => s.id === id ? s.removeAttribute('hidden') : s.setAttribute('hidden',''));
				navButtons.forEach(b => b.classList.toggle('active', b.dataset.section === id));
				// restore scroll to top for selected content
				const panel = document.querySelector('.content-panel');
				if (panel) panel.scrollTop = 0;
			}
			navButtons.forEach(btn => {
				btn.addEventListener('click', () => showSection(btn.dataset.section));
			});

			// initialize
			showSection('about');

			// help balloon toggle
			const helpBtn = document.getElementById('btn-help');
			const helpBalloon = document.getElementById('help-balloon');
			if (helpBtn && helpBalloon) {
				helpBtn.addEventListener('click', (ev) => {
					ev.stopPropagation();
					if (helpBalloon.hasAttribute('hidden')) {
						helpBalloon.removeAttribute('hidden');
					} else {
						helpBalloon.setAttribute('hidden','');
					}
				});
				// hide when clicking outside
				document.addEventListener('click', () => helpBalloon.setAttribute('hidden',''));
				// also hide when the balloon itself is clicked
				helpBalloon.addEventListener('click', (ev) => {
					ev.stopPropagation();
					helpBalloon.setAttribute('hidden','');
				});
				document.addEventListener('keyup', (e) => { if (e.key === 'Escape') helpBalloon.setAttribute('hidden',''); });
			}

			// legacy button
			const legacyBtn = document.getElementById('btn-legacy');
			if (legacyBtn) legacyBtn.addEventListener('click', () => location.href = 'index-old.html');

			// small accessibility: allow keyboard nav 1-4
			document.addEventListener('keyup', (e) => {
				if (e.key >= '1' && e.key <= '4') {
					const idx = Number(e.key) - 1;
					const btn = navButtons[idx];
					if (btn) btn.click();
				}
			});

			// Draggable window implementation using pointer events (title-bar as handle)
			(function enableWindowDrag() {
				const app = document.querySelector('.app-window');
				const desktop = document.querySelector('.desktop');
				const handle = app && app.querySelector('.title-bar');
				if (!app || !desktop || !handle) return;

				let dragging = false;
				let startX = 0, startY = 0; // pointer start
				let startLeft = 0, startTop = 0; // window start (relative to desktop)

				function clamp(v, min, max) { return Math.min(Math.max(v, min), max); }

				handle.addEventListener('pointerdown', (ev) => {
					// don't start dragging when app is fullscreen on small devices
					const appStyle = window.getComputedStyle(app);
					if (appStyle.position === 'fixed' || window.matchMedia('(max-width:820px)').matches) return;
					ev.preventDefault();
					handle.setPointerCapture(ev.pointerId);
					// compute initial positions
					const deskRect = desktop.getBoundingClientRect();
					const winRect = app.getBoundingClientRect();
					startX = ev.clientX;
					startY = ev.clientY;
					// convert to coordinates relative to desktop
					startLeft = winRect.left - deskRect.left;
					startTop = winRect.top - deskRect.top;

					// remove centering transform if present so we can move by left/top
					app.style.transform = app.style.transform === '' ? 'none' : app.style.transform;
					if (app.style.transform && app.style.transform.includes('translate(-50%,-50%)')) {
						app.style.transform = 'none';
					}
					// ensure left/top are set in px (if not already)
					app.style.left = (startLeft) + 'px';
					app.style.top = (startTop) + 'px';

					dragging = true;
					app.classList.add('dragging');
				});

				handle.addEventListener('pointermove', (ev) => {
					if (!dragging) return;
					const deskRect = desktop.getBoundingClientRect();
					const winRect = app.getBoundingClientRect();
					const dx = ev.clientX - startX;
					const dy = ev.clientY - startY;
					// compute new position (relative to desktop)
					let newLeft = startLeft + dx;
					let newTop = startTop + dy;
					// clamp within desktop bounds (leave a small margin)
					const margin = 8;
					const maxLeft = deskRect.width - winRect.width - margin;
					const maxTop = deskRect.height - winRect.height - margin;
					newLeft = clamp(newLeft, margin - winRect.width * 0, maxLeft);
					newTop = clamp(newTop, margin - winRect.height * 0, maxTop);
					app.style.left = Math.round(newLeft) + 'px';
					app.style.top = Math.round(newTop) + 'px';
				});

				function endDrag(ev) {
					if (!dragging) return;
					dragging = false;
					app.classList.remove('dragging');
					try { handle.releasePointerCapture && handle.releasePointerCapture(ev.pointerId); } catch (e) {}
				}
				handle.addEventListener('pointerup', endDrag);
				handle.addEventListener('pointercancel', endDrag);

				// double-click on title bar recenters the window
				handle.addEventListener('dblclick', () => {
					app.style.left = '50%';
					app.style.top = '50%';
					app.style.transform = 'translate(-50%,-50%)';
				});
			})();
		})();
	</script>
</body>
</html>